/*
 jQuery DateTimePicker plugin v2.3.4
 @homepage http://xdsoft.net/jqplugins/datetimepicker/
 (c) 2014, Chupurnov Valeriy.
*/
(function($){var default_options={i18n:{ar:{months:["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0634\u0628\u0627\u0637","\u0622\u0630\u0627\u0631","\u0646\u064a\u0633\u0627\u0646","\u0645\u0627\u064a\u0648","\u062d\u0632\u064a\u0631\u0627\u0646","\u062a\u0645\u0648\u0632","\u0622\u0628","\u0623\u064a\u0644\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u0623\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644"],
dayOfWeek:["\u0646","\u062b","\u0639","\u062e","\u062c","\u0633","\u062d"]},ro:{months:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],dayOfWeek:["l","ma","mi","j","v","s","d"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeek:["Sen","Sel","Rab","Kam","Jum","Sab","Min"]},bg:{months:["\u042f\u043d\u0443\u0430\u0440\u0438","\u0424\u0435\u0432\u0440\u0443\u0430\u0440\u0438",
"\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0438\u043b","\u041c\u0430\u0439","\u042e\u043d\u0438","\u042e\u043b\u0438","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438","\u041e\u043a\u0442\u043e\u043c\u0432\u0440\u0438","\u041d\u043e\u0435\u043c\u0432\u0440\u0438","\u0414\u0435\u043a\u0435\u043c\u0432\u0440\u0438"],dayOfWeek:["\u041d\u0434","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"]},fa:{months:["\u0641\u0631\u0648\u0631\u062f\u06cc\u0646",
"\u0627\u0631\u062f\u06cc\u0628\u0647\u0634\u062a","\u062e\u0631\u062f\u0627\u062f","\u062a\u06cc\u0631","\u0645\u0631\u062f\u0627\u062f","\u0634\u0647\u0631\u06cc\u0648\u0631","\u0645\u0647\u0631","\u0622\u0628\u0627\u0646","\u0622\u0630\u0631","\u062f\u06cc","\u0628\u0647\u0645\u0646","\u0627\u0633\u0641\u0646\u062f"],dayOfWeek:["\u06cc\u06a9\u0634\u0646\u0628\u0647","\u062f\u0648\u0634\u0646\u0628\u0647","\u0633\u0647 \u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647",
"\u067e\u0646\u062c\u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"]},ru:{months:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c",
"\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],dayOfWeek:["\u0412\u0441\u043a","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"]},uk:{months:["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c",
"\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"],dayOfWeek:["\u041d\u0434\u043b","\u041f\u043d\u0434","\u0412\u0442\u0440","\u0421\u0440\u0434","\u0427\u0442\u0432","\u041f\u0442\u043d","\u0421\u0431\u0442"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue",
"Wed","Thu","Fri","Sat"]},el:{months:["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2",
"\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"],dayOfWeek:["\u039a\u03c5\u03c1","\u0394\u03b5\u03c5","\u03a4\u03c1\u03b9","\u03a4\u03b5\u03c4","\u03a0\u03b5\u03bc","\u03a0\u03b1\u03c1","\u03a3\u03b1\u03b2"]},de:{months:["Januar","Februar","M\u00e4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeek:["So","Mo","Di","Mi","Do","Fr",
"Sa"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]},tr:{months:["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\u00fcl","Ekim","Kas\u0131m","Aral\u0131k"],dayOfWeek:["Paz","Pts","Sal","\u00c7ar","Per","Cum","Cts"]},fr:{months:["Janvier","F\u00e9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\u00fbt","Septembre","Octobre","Novembre",
"D\u00e9cembre"],dayOfWeek:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeek:["Dom","Lun","Mar","Mi\u00e9","Jue","Vie","S\u00e1b"]},th:{months:["\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21","\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c","\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21","\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19","\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21","\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19",
"\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21","\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21","\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19","\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21","\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19","\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21"],dayOfWeek:["\u0e2d\u0e32.","\u0e08.","\u0e2d.","\u0e1e.","\u0e1e\u0e24.","\u0e28.","\u0e2a."]},pl:{months:["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017adziernik",
"listopad","grudzie\u0144"],dayOfWeek:["nd","pn","wt","\u015br","cz","pt","sb"]},pt:{months:["Janeiro","Fevereiro","Mar\u00e7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},ch:{months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],dayOfWeek:["\u65e5","\u4e00",
"\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["S\u00f6n","M\u00e5n","Tis","Ons","Tor","Fre","L\u00f6r"]},kr:{months:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],dayOfWeek:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile",
"Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeek:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeek:["S\u00f8n","Man","Tir","Ons","Tor","Fre","L\u00f8r"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeek:["S\u00f8n","Man","Tir","Ons","Tor","Fre","L\u00f8r"]},
ja:{months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]},vi:{months:["Th\u00e1ng 1","Th\u00e1ng 2","Th\u00e1ng 3","Th\u00e1ng 4","Th\u00e1ng 5","Th\u00e1ng 6","Th\u00e1ng 7","Th\u00e1ng 8","Th\u00e1ng 9","Th\u00e1ng 10","Th\u00e1ng 11","Th\u00e1ng 12"],dayOfWeek:["CN","T2","T3","T4","T5","T6","T7"]},sl:{months:["Januar","Februar","Marec","April",
"Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeek:["Ned","Pon","Tor","Sre","\u010cet","Pet","Sob"]},cs:{months:["Leden","\u00danor","B\u0159ezen","Duben","Kv\u011bten","\u010cerven","\u010cervenec","Srpen","Z\u00e1\u0159\u00ed","\u0158\u00edjen","Listopad","Prosinec"],dayOfWeek:["Ne","Po","\u00dat","St","\u010ct","P\u00e1","So"]},hu:{months:["Janu\u00e1r","Febru\u00e1r","M\u00e1rcius","\u00c1prilis","M\u00e1jus","J\u00fanius","J\u00falius","Augusztus","Szeptember",
"Okt\u00f3ber","November","December"],dayOfWeek:["Va","H\u00e9","Ke","Sze","Cs","P\u00e9","Szo"]}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:false,step:60,monthChangeSpinner:true,closeOnDateSelect:false,closeOnWithoutClick:true,closeOnInputClick:true,timepicker:true,datepicker:true,weeks:false,defaultTime:false,defaultDate:false,minDate:false,maxDate:false,minTime:false,maxTime:false,allowTimes:[],opened:false,initTime:true,inline:false,onSelectDate:function(){},
onSelectTime:function(){},onChangeMonth:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:true,inverseButton:false,hours12:false,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,timeHeightInTimePicker:25,timepickerScrollbar:true,todayButton:true,defaultSelect:true,scrollMonth:true,scrollTime:true,scrollInput:true,lazyInit:false,mask:false,validateOnBlur:true,allowBlank:true,yearStart:1950,yearEnd:2050,style:"",id:"",
fixed:false,roundTime:"round",className:"",weekends:[],yearOffset:0,beforeShowDay:null};if(!Array.prototype.indexOf)Array.prototype.indexOf=function(obj,start){var i=start||0;for(var j=this.length;i<j;i++)if(this[i]===obj)return i;return-1};Date.prototype.countDaysInMonth=function(){return(new Date(this.getFullYear(),this.getMonth()+1,0)).getDate()};$.fn.xdsoftScroller=function(_percent){return this.each(function(){var timeboxparent=$(this);if(!$(this).hasClass("xdsoft_scroller_box")){var pointerEventToXY=
function(e){var out={x:0,y:0};if(e.type=="touchstart"||e.type=="touchmove"||e.type=="touchend"||e.type=="touchcancel"){var touch=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];out.x=touch.pageX;out.y=touch.pageY}else if(e.type=="mousedown"||e.type=="mouseup"||e.type=="mousemove"||e.type=="mouseover"||e.type=="mouseout"||e.type=="mouseenter"||e.type=="mouseleave"){out.x=e.pageX;out.y=e.pageY}return out};var move=0;var timebox=timeboxparent.children().eq(0);var parentHeight=timeboxparent[0].clientHeight;
var height=timebox[0].offsetHeight;var scrollbar=$('\x3cdiv class\x3d"xdsoft_scrollbar"\x3e\x3c/div\x3e');var scroller=$('\x3cdiv class\x3d"xdsoft_scroller"\x3e\x3c/div\x3e');var maximumOffset=100;var start=false;scrollbar.append(scroller);timeboxparent.addClass("xdsoft_scroller_box").append(scrollbar);scroller.on("mousedown.xdsoft_scroller",function(event){if(!parentHeight)timeboxparent.trigger("resize_scroll.xdsoft_scroller",[_percent]);var pageY=event.pageY;var top=parseInt(scroller.css("margin-top"));
var h1=scrollbar[0].offsetHeight;$(document.body).addClass("xdsoft_noselect");$([document.body,window]).on("mouseup.xdsoft_scroller",function arguments_callee(){$([document.body,window]).off("mouseup.xdsoft_scroller",arguments_callee).off("mousemove.xdsoft_scroller",move).removeClass("xdsoft_noselect")});$(document.body).on("mousemove.xdsoft_scroller",move=function(event){var offset=event.pageY-pageY+top;if(offset<0)offset=0;if(offset+scroller[0].offsetHeight>h1)offset=h1-scroller[0].offsetHeight;
timeboxparent.trigger("scroll_element.xdsoft_scroller",[maximumOffset?offset/maximumOffset:0])})});timeboxparent.on("scroll_element.xdsoft_scroller",function(event,percent){if(!parentHeight)timeboxparent.trigger("resize_scroll.xdsoft_scroller",[percent,true]);percent=percent>1?1:percent<0||isNaN(percent)?0:percent;scroller.css("margin-top",maximumOffset*percent);setTimeout(function(){timebox.css("marginTop",-parseInt((timebox[0].offsetHeight-parentHeight)*percent))},10)}).on("resize_scroll.xdsoft_scroller",
function(event,_percent,noTriggerScroll){parentHeight=timeboxparent[0].clientHeight;height=timebox[0].offsetHeight;var percent=parentHeight/height;var sh=percent*scrollbar[0].offsetHeight;if(percent>1)scroller.hide();else{scroller.show();scroller.css("height",parseInt(sh>10?sh:10));maximumOffset=scrollbar[0].offsetHeight-scroller[0].offsetHeight;if(noTriggerScroll!==true)timeboxparent.trigger("scroll_element.xdsoft_scroller",[_percent?_percent:Math.abs(parseInt(timebox.css("marginTop")))/(height-
parentHeight)])}});timeboxparent.mousewheel&&timeboxparent.mousewheel(function(event,delta,deltaX,deltaY){var top=Math.abs(parseInt(timebox.css("marginTop")));timeboxparent.trigger("scroll_element.xdsoft_scroller",[(top-delta*20)/(height-parentHeight)]);event.stopPropagation();return false});timeboxparent.on("touchstart",function(event){start=pointerEventToXY(event)});timeboxparent.on("touchmove",function(event){if(start){var coord=pointerEventToXY(event);var top=Math.abs(parseInt(timebox.css("marginTop")));
timeboxparent.trigger("scroll_element.xdsoft_scroller",[(top-(coord.y-start.y))/(height-parentHeight)]);event.stopPropagation();event.preventDefault();start=pointerEventToXY(event)}});timeboxparent.on("touchend touchcancel",function(event){start=false})}timeboxparent.trigger("resize_scroll.xdsoft_scroller",[_percent])})};$.fn.datetimepicker=function(opt){var KEY0=48;var KEY9=57;var _KEY0=96;var _KEY9=105;var CTRLKEY=17;var DEL=46;var ENTER=13;var ESC=27;var BACKSPACE=8;var ARROWLEFT=37;var ARROWUP=
38;var ARROWRIGHT=39;var ARROWDOWN=40;var TAB=9;var F5=116;var AKEY=65;var CKEY=67;var VKEY=86;var ZKEY=90;var YKEY=89;var ctrlDown=false;var options=$.isPlainObject(opt)||!opt?$.extend(true,{},default_options,opt):$.extend({},default_options);var lazyInitTimer=0;var lazyInit=function(input){input.on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function initOnActionCallback(event){if(input.is(":disabled")||input.is(":hidden")||!input.is(":visible")||input.data("xdsoft_datetimepicker"))return;clearTimeout(lazyInitTimer);
lazyInitTimer=setTimeout(function(){if(!input.data("xdsoft_datetimepicker"))createDateTimePicker(input);input.off("open.xdsoft focusin.xdsoft mousedown.xdsoft",initOnActionCallback).trigger("open.xdsoft")},100)})};var createDateTimePicker=function(input$$0){function getCurrentValue(){var ct=false;if(options.startDate)ct=_xdsoft_datetime.strToDate(options.startDate);else{ct=options.value?options.value:input$$0&&input$$0.val&&input$$0.val()?input$$0.val():"";if(ct)ct=_xdsoft_datetime.strToDateTime(ct);
else if(options.defaultDate)ct=_xdsoft_datetime.strToDate(options.defaultDate)}if(ct&&_xdsoft_datetime.isValidDate(ct))datetimepicker.data("changed",true);else ct="";return ct?ct:0}var datetimepicker=$("\x3cdiv "+(options.id?'id\x3d"'+options.id+'"':"")+" "+(options.style?'style\x3d"'+options.style+'"':"")+' class\x3d"xdsoft_datetimepicker xdsoft_noselect '+(options.weeks?" xdsoft_showweeks":"")+options.className+'"\x3e\x3c/div\x3e');var xdsoft_copyright=$('\x3cdiv class\x3d"xdsoft_copyright"\x3e\x3ca target\x3d"_blank" href\x3d"http://xdsoft.net/jqplugins/datetimepicker/"\x3exdsoft.net\x3c/a\x3e\x3c/div\x3e');
var datepicker=$('\x3cdiv class\x3d"xdsoft_datepicker active"\x3e\x3c/div\x3e');var mounth_picker=$('\x3cdiv class\x3d"xdsoft_mounthpicker"\x3e\x3cbutton type\x3d"button" class\x3d"xdsoft_prev"\x3e\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"xdsoft_today_button"\x3e\x3c/button\x3e\x3cdiv class\x3d"xdsoft_label xdsoft_month"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"xdsoft_label xdsoft_year"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cbutton type\x3d"button" class\x3d"xdsoft_next"\x3e\x3c/button\x3e\x3c/div\x3e');
var calendar=$('\x3cdiv class\x3d"xdsoft_calendar"\x3e\x3c/div\x3e');var timepicker=$('\x3cdiv class\x3d"xdsoft_timepicker active"\x3e\x3cbutton type\x3d"button" class\x3d"xdsoft_prev"\x3e\x3c/button\x3e\x3cdiv class\x3d"xdsoft_time_box"\x3e\x3c/div\x3e\x3cbutton type\x3d"button" class\x3d"xdsoft_next"\x3e\x3c/button\x3e\x3c/div\x3e');var timeboxparent=timepicker.find(".xdsoft_time_box").eq(0);var timebox=$('\x3cdiv class\x3d"xdsoft_time_variant"\x3e\x3c/div\x3e');var scrollbar=$('\x3cdiv class\x3d"xdsoft_scrollbar"\x3e\x3c/div\x3e');
var scroller=$('\x3cdiv class\x3d"xdsoft_scroller"\x3e\x3c/div\x3e');var monthselect=$('\x3cdiv class\x3d"xdsoft_select xdsoft_monthselect"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e');var yearselect=$('\x3cdiv class\x3d"xdsoft_select xdsoft_yearselect"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e');mounth_picker.find(".xdsoft_month span").after(monthselect);mounth_picker.find(".xdsoft_year span").after(yearselect);mounth_picker.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(event){mounth_picker.find(".xdsoft_select").hide();
var select=$(this).find(".xdsoft_select").eq(0);var val=0;var top=0;if(_xdsoft_datetime.currentTime)val=_xdsoft_datetime.currentTime[$(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]();select.show();var items=select.find("div.xdsoft_option");for(var i=0;i<items.length;i++)if(items.eq(i).data("value")==val)break;else top+=items[0].offsetHeight;select.xdsoftScroller(top/(select.children()[0].offsetHeight-select[0].clientHeight));event.stopPropagation();return false});mounth_picker.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",
function(event){event.stopPropagation();event.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(event){if(_xdsoft_datetime&&_xdsoft_datetime.currentTime)_xdsoft_datetime.currentTime[$(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"]($(this).data("value"));$(this).parent().parent().hide();datetimepicker.trigger("xchange.xdsoft");options.onChangeMonth&&options.onChangeMonth.call&&options.onChangeMonth.call(datetimepicker,_xdsoft_datetime.currentTime,
datetimepicker.data("input"))});datetimepicker.setOptions=function(_options){options=$.extend(true,{},options,_options);if(_options.allowTimes&&$.isArray(_options.allowTimes)&&_options.allowTimes.length)options["allowTimes"]=$.extend(true,[],_options.allowTimes);if(_options.weekends&&$.isArray(_options.weekends)&&_options.weekends.length)options["weekends"]=$.extend(true,[],_options.weekends);if((options.open||options.opened)&&!options.inline)input$$0.trigger("open.xdsoft");if(options.inline){triggerAfterOpen=
true;datetimepicker.addClass("xdsoft_inline");input$$0.after(datetimepicker).hide()}if(options.inverseButton){options.next="xdsoft_prev";options.prev="xdsoft_next"}if(options.datepicker)datepicker.addClass("active");else datepicker.removeClass("active");if(options.timepicker)timepicker.addClass("active");else timepicker.removeClass("active");if(options.value){input$$0&&input$$0.val&&input$$0.val(options.value);_xdsoft_datetime.setCurrentTime(options.value)}if(isNaN(options.dayOfWeekStart))options.dayOfWeekStart=
0;else options.dayOfWeekStart=parseInt(options.dayOfWeekStart)%7;if(!options.timepickerScrollbar)scrollbar.hide();if(options.minDate&&/^-(.*)$/.test(options.minDate))options.minDate=_xdsoft_datetime.strToDateTime(options.minDate).dateFormat(options.formatDate);if(options.maxDate&&/^\+(.*)$/.test(options.maxDate))options.maxDate=_xdsoft_datetime.strToDateTime(options.maxDate).dateFormat(options.formatDate);mounth_picker.find(".xdsoft_today_button").css("visibility",!options.todayButton?"hidden":"visible");
if(options.mask){var e$$0;var getCaretPos=function(input){try{if(document.selection&&document.selection.createRange){var range=document.selection.createRange();return range.getBookmark().charCodeAt(2)-2}else if(input.setSelectionRange)return input.selectionStart}catch(e){return 0}};var setCaretPos=function(node,pos){node=typeof node=="string"||node instanceof String?document.getElementById(node):node;if(!node)return false;else if(node.createTextRange){var textRange=node.createTextRange();textRange.collapse(true);
textRange.moveEnd(pos);textRange.moveStart(pos);textRange.select();return true}else if(node.setSelectionRange){node.setSelectionRange(pos,pos);return true}return false};var isValidValue=function(mask,value){var reg=mask.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return RegExp(reg).test(value)};input$$0.off("keydown.xdsoft");switch(true){case options.mask===
true:options.mask=options.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59");case $.type(options.mask)=="string":if(!isValidValue(options.mask,input$$0.val()))input$$0.val(options.mask.replace(/[0-9]/g,"_"));input$$0.on("keydown.xdsoft",function(event){var val=this.value;var key=event.which;switch(true){case key>=KEY0&&key<=KEY9||key>=_KEY0&&key<=_KEY9||key==BACKSPACE||key==DEL:var pos=getCaretPos(this);var digit=
key!=BACKSPACE&&key!=DEL?String.fromCharCode(_KEY0<=key&&key<=_KEY9?key-KEY0:key):"_";if((key==BACKSPACE||key==DEL)&&pos){pos--;digit="_"}for(;/[^0-9_]/.test(options.mask.substr(pos,1))&&pos<options.mask.length&&pos>0;)pos+=key==BACKSPACE||key==DEL?-1:1;val=val.substr(0,pos)+digit+val.substr(pos+1);if($.trim(val)=="")val=options.mask.replace(/[0-9]/g,"_");else if(pos==options.mask.length)break;for(pos+=key==BACKSPACE||key==DEL?0:1;/[^0-9_]/.test(options.mask.substr(pos,1))&&pos<options.mask.length&&
pos>0;)pos+=key==BACKSPACE||key==DEL?-1:1;if(isValidValue(options.mask,val)){this.value=val;setCaretPos(this,pos)}else if($.trim(val)=="")this.value=options.mask.replace(/[0-9]/g,"_");else input$$0.trigger("error_input.xdsoft");break;case !!~[AKEY,CKEY,VKEY,ZKEY,YKEY].indexOf(key)&&ctrlDown:case !!~[ESC,ARROWUP,ARROWDOWN,ARROWLEFT,ARROWRIGHT,F5,CTRLKEY,TAB,ENTER].indexOf(key):return true}event.preventDefault();return false});break}}if(options.validateOnBlur)input$$0.off("blur.xdsoft").on("blur.xdsoft",
function(){if(options.allowBlank&&!$.trim($(this).val()).length){$(this).val(null);datetimepicker.data("xdsoft_datetime").empty()}else if(!Date.parseDate($(this).val(),options.format)){$(this).val(_xdsoft_datetime.now().dateFormat(options.format));datetimepicker.data("xdsoft_datetime").setCurrentTime($(this).val())}else datetimepicker.data("xdsoft_datetime").setCurrentTime($(this).val());datetimepicker.trigger("changedatetime.xdsoft")});options.dayOfWeekStartPrev=options.dayOfWeekStart==0?6:options.dayOfWeekStart-
1;datetimepicker.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")};datetimepicker.data("options",options).on("mousedown.xdsoft",function(event){event.stopPropagation();event.preventDefault();yearselect.hide();monthselect.hide();return false});var scroll_element=timepicker.find(".xdsoft_time_box");scroll_element.append(timebox);scroll_element.xdsoftScroller();datetimepicker.on("afterOpen.xdsoft",function(){scroll_element.xdsoftScroller()});datetimepicker.append(datepicker).append(timepicker);
if(options.withoutCopyright!==true)datetimepicker.append(xdsoft_copyright);datepicker.append(mounth_picker).append(calendar);$("body").append(datetimepicker);var _xdsoft_datetime=new function(){var _this=this;_this.now=function(norecursion){var d=new Date;if(!norecursion&&options.defaultDate){var date=_this.strToDate(options.defaultDate);d.setFullYear(date.getFullYear());d.setMonth(date.getMonth());d.setDate(date.getDate())}if(options.yearOffset)d.setFullYear(d.getFullYear()+options.yearOffset);if(!norecursion&&
options.defaultTime){var time=_this.strtotime(options.defaultTime);d.setHours(time.getHours());d.setMinutes(time.getMinutes())}return d};_this.isValidDate=function(d){if(Object.prototype.toString.call(d)!=="[object Date]")return false;return!isNaN(d.getTime())};_this.setCurrentTime=function(dTime){_this.currentTime=typeof dTime=="string"?_this.strToDateTime(dTime):_this.isValidDate(dTime)?dTime:_this.now();datetimepicker.trigger("xchange.xdsoft")};_this.empty=function(){_this.currentTime=null};_this.getCurrentTime=
function(dTime){return _this.currentTime};_this.nextMonth=function(){var month=_this.currentTime.getMonth()+1;if(month==12){_this.currentTime.setFullYear(_this.currentTime.getFullYear()+1);month=0}_this.currentTime.setDate(Math.min((new Date(_this.currentTime.getFullYear(),month+1,0)).getDate(),_this.currentTime.getDate()));_this.currentTime.setMonth(month);options.onChangeMonth&&options.onChangeMonth.call&&options.onChangeMonth.call(datetimepicker,_xdsoft_datetime.currentTime,datetimepicker.data("input"));
datetimepicker.trigger("xchange.xdsoft");return month};_this.prevMonth=function(){var month=_this.currentTime.getMonth()-1;if(month==-1){_this.currentTime.setFullYear(_this.currentTime.getFullYear()-1);month=11}_this.currentTime.setDate(Math.min((new Date(_this.currentTime.getFullYear(),month+1,0)).getDate(),_this.currentTime.getDate()));_this.currentTime.setMonth(month);options.onChangeMonth&&options.onChangeMonth.call&&options.onChangeMonth.call(datetimepicker,_xdsoft_datetime.currentTime,datetimepicker.data("input"));
datetimepicker.trigger("xchange.xdsoft");return month};_this.strToDateTime=function(sDateTime){if(sDateTime&&sDateTime instanceof Date&&_this.isValidDate(sDateTime))return sDateTime;var tmpDate=[];var timeOffset;var currentTime;if((tmpDate=/^(\+|\-)(.*)$/.exec(sDateTime))&&(tmpDate[2]=Date.parseDate(tmpDate[2],options.formatDate))){timeOffset=tmpDate[2].getTime()-tmpDate[2].getTimezoneOffset()*6E4;currentTime=new Date(_xdsoft_datetime.now().getTime()+parseInt(tmpDate[1]+"1")*timeOffset)}else currentTime=
sDateTime?Date.parseDate(sDateTime,options.format):_this.now();if(!_this.isValidDate(currentTime))currentTime=_this.now();return currentTime};_this.strToDate=function(sDate){if(sDate&&sDate instanceof Date&&_this.isValidDate(sDate))return sDate;var currentTime=sDate?Date.parseDate(sDate,options.formatDate):_this.now(true);if(!_this.isValidDate(currentTime))currentTime=_this.now(true);return currentTime};_this.strtotime=function(sTime){if(sTime&&sTime instanceof Date&&_this.isValidDate(sTime))return sTime;
var currentTime=sTime?Date.parseDate(sTime,options.formatTime):_this.now();if(!_this.isValidDate(currentTime))currentTime=_this.now(true);return currentTime};_this.str=function(){return _this.currentTime.dateFormat(options.format)};_this.currentTime=this.now()};mounth_picker.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){datetimepicker.data("changed",true);_xdsoft_datetime.setCurrentTime(0);datetimepicker.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){input$$0.val(_xdsoft_datetime.str());
datetimepicker.trigger("close.xdsoft")});mounth_picker.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var $this=$(this);var timer=0;var stop=false;(function arguments_callee1(v){var month=_xdsoft_datetime.currentTime.getMonth();if($this.hasClass(options.next))_xdsoft_datetime.nextMonth();else if($this.hasClass(options.prev))_xdsoft_datetime.prevMonth();if(options.monthChangeSpinner)!stop&&(timer=setTimeout(arguments_callee1,v?v:100))})(500);$([document.body,window]).on("mouseup.xdsoft",
function arguments_callee2(){clearTimeout(timer);stop=true;$([document.body,window]).off("mouseup.xdsoft",arguments_callee2)})});timepicker.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var $this=$(this);var timer=0;var stop=false;var period=110;(function arguments_callee4(v){var pheight=timeboxparent[0].clientHeight;var height=timebox[0].offsetHeight;var top=Math.abs(parseInt(timebox.css("marginTop")));if($this.hasClass(options.next)&&height-pheight-options.timeHeightInTimePicker>=
top)timebox.css("marginTop","-"+(top+options.timeHeightInTimePicker)+"px");else if($this.hasClass(options.prev)&&top-options.timeHeightInTimePicker>=0)timebox.css("marginTop","-"+(top-options.timeHeightInTimePicker)+"px");timeboxparent.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(timebox.css("marginTop"))/(height-pheight))]);period=period>10?10:period-10;!stop&&(timer=setTimeout(arguments_callee4,v?v:period))})(500);$([document.body,window]).on("mouseup.xdsoft",function arguments_callee5(){clearTimeout(timer);
stop=true;$([document.body,window]).off("mouseup.xdsoft",arguments_callee5)})});var xchangeTimer=0;datetimepicker.on("xchange.xdsoft",function(event){clearTimeout(xchangeTimer);xchangeTimer=setTimeout(function(){var table="";var start=new Date(_xdsoft_datetime.currentTime.getFullYear(),_xdsoft_datetime.currentTime.getMonth(),1,12,0,0);var i=0;for(var today=_xdsoft_datetime.now();start.getDay()!=options.dayOfWeekStart;)start.setDate(start.getDate()-1);table+="\x3ctable\x3e\x3cthead\x3e\x3ctr\x3e";
if(options.weeks)table+="\x3cth\x3e\x3c/th\x3e";for(var j=0;j<7;j++)table+="\x3cth\x3e"+options.i18n[options.lang].dayOfWeek[(j+options.dayOfWeekStart)%7]+"\x3c/th\x3e";table+="\x3c/tr\x3e\x3c/thead\x3e";table+="\x3ctbody\x3e";var maxDate=false;var minDate=false;if(options.maxDate!==false){maxDate=_xdsoft_datetime.strToDate(options.maxDate);maxDate=new Date(maxDate.getFullYear(),maxDate.getMonth(),maxDate.getDate(),23,59,59,999)}if(options.minDate!==false){minDate=_xdsoft_datetime.strToDate(options.minDate);
minDate=new Date(minDate.getFullYear(),minDate.getMonth(),minDate.getDate())}var d;var y;var m;var w;var classes=[];var customDateSettings;for(var newRow=true;i<_xdsoft_datetime.currentTime.countDaysInMonth()||start.getDay()!=options.dayOfWeekStart||_xdsoft_datetime.currentTime.getMonth()==start.getMonth();){classes=[];i++;d=start.getDate();y=start.getFullYear();m=start.getMonth();w=start.getWeekOfYear();classes.push("xdsoft_date");if(options.beforeShowDay&&options.beforeShowDay.call)customDateSettings=
options.beforeShowDay.call(datetimepicker,start);else customDateSettings=null;if(maxDate!==false&&start>maxDate||minDate!==false&&start<minDate||customDateSettings&&customDateSettings[0]===false)classes.push("xdsoft_disabled");if(customDateSettings&&customDateSettings[1]!="")classes.push(customDateSettings[1]);if(_xdsoft_datetime.currentTime.getMonth()!=m)classes.push("xdsoft_other_month");if((options.defaultSelect||datetimepicker.data("changed"))&&_xdsoft_datetime.currentTime.dateFormat(options.formatDate)==
start.dateFormat(options.formatDate))classes.push("xdsoft_current");if(today.dateFormat(options.formatDate)==start.dateFormat(options.formatDate))classes.push("xdsoft_today");if(start.getDay()==0||start.getDay()==6||~options.weekends.indexOf(start.dateFormat(options.formatDate)))classes.push("xdsoft_weekend");if(options.beforeShowDay&&typeof options.beforeShowDay=="function")classes.push(options.beforeShowDay(start));if(newRow){table+="\x3ctr\x3e";newRow=false;if(options.weeks)table+="\x3cth\x3e"+
w+"\x3c/th\x3e"}table+='\x3ctd data-date\x3d"'+d+'" data-month\x3d"'+m+'" data-year\x3d"'+y+'"'+' class\x3d"xdsoft_date xdsoft_day_of_week'+start.getDay()+" "+classes.join(" ")+'"\x3e'+"\x3cdiv\x3e"+d+"\x3c/div\x3e"+"\x3c/td\x3e";if(start.getDay()==options.dayOfWeekStartPrev){table+="\x3c/tr\x3e";newRow=true}start.setDate(d+1)}table+="\x3c/tbody\x3e\x3c/table\x3e";calendar.html(table);mounth_picker.find(".xdsoft_label span").eq(0).text(options.i18n[options.lang].months[_xdsoft_datetime.currentTime.getMonth()]);
mounth_picker.find(".xdsoft_label span").eq(1).text(_xdsoft_datetime.currentTime.getFullYear());var time="";var h="";m="";var line_time=function line_time(h,m){var now=_xdsoft_datetime.now();now.setHours(h);h=parseInt(now.getHours());now.setMinutes(m);m=parseInt(now.getMinutes());classes=[];if(options.maxTime!==false&&_xdsoft_datetime.strtotime(options.maxTime).getTime()<now.getTime()||options.minTime!==false&&_xdsoft_datetime.strtotime(options.minTime).getTime()>now.getTime())classes.push("xdsoft_disabled");
if((options.initTime||options.defaultSelect||datetimepicker.data("changed"))&&parseInt(_xdsoft_datetime.currentTime.getHours())==parseInt(h)&&(options.step>59||Math[options.roundTime](_xdsoft_datetime.currentTime.getMinutes()/options.step)*options.step==parseInt(m)))if(options.defaultSelect||datetimepicker.data("changed"))classes.push("xdsoft_current");else if(options.initTime)classes.push("xdsoft_init_time");if(parseInt(today.getHours())==parseInt(h)&&parseInt(today.getMinutes())==parseInt(m))classes.push("xdsoft_today");
time+='\x3cdiv class\x3d"xdsoft_time '+classes.join(" ")+'" data-hour\x3d"'+h+'" data-minute\x3d"'+m+'"\x3e'+now.dateFormat(options.formatTime)+"\x3c/div\x3e"};if(!options.allowTimes||!$.isArray(options.allowTimes)||!options.allowTimes.length){i=0;for(j=0;i<(options.hours12?12:24);i++)for(j=0;j<60;j+=options.step){h=(i<10?"0":"")+i;m=(j<10?"0":"")+j;line_time(h,m)}}else for(i=0;i<options.allowTimes.length;i++){h=_xdsoft_datetime.strtotime(options.allowTimes[i]).getHours();m=_xdsoft_datetime.strtotime(options.allowTimes[i]).getMinutes();
line_time(h,m)}timebox.html(time);var opt="";i=0;for(i=parseInt(options.yearStart,10)+options.yearOffset;i<=parseInt(options.yearEnd,10)+options.yearOffset;i++)opt+='\x3cdiv class\x3d"xdsoft_option '+(_xdsoft_datetime.currentTime.getFullYear()==i?"xdsoft_current":"")+'" data-value\x3d"'+i+'"\x3e'+i+"\x3c/div\x3e";yearselect.children().eq(0).html(opt);for(i=0,opt="";i<=11;i++)opt+='\x3cdiv class\x3d"xdsoft_option '+(_xdsoft_datetime.currentTime.getMonth()==i?"xdsoft_current":"")+'" data-value\x3d"'+
i+'"\x3e'+options.i18n[options.lang].months[i]+"\x3c/div\x3e";monthselect.children().eq(0).html(opt);$(datetimepicker).trigger("generate.xdsoft")},10);event.stopPropagation()}).on("afterOpen.xdsoft",function(){if(options.timepicker){var classType;if(timebox.find(".xdsoft_current").length)classType=".xdsoft_current";else if(timebox.find(".xdsoft_init_time").length)classType=".xdsoft_init_time";if(classType){var pheight=timeboxparent[0].clientHeight;var height=timebox[0].offsetHeight;var top=timebox.find(classType).index()*
options.timeHeightInTimePicker+1;if(height-pheight<top)top=height-pheight;timeboxparent.trigger("scroll_element.xdsoft_scroller",[parseInt(top)/(height-pheight)])}else timeboxparent.trigger("scroll_element.xdsoft_scroller",[0])}});var timerclick=0;calendar.on("click.xdsoft","td",function(xdevent){xdevent.stopPropagation();timerclick++;var $this=$(this);var currentTime=_xdsoft_datetime.currentTime;if(currentTime===undefined||currentTime===null){_xdsoft_datetime.currentTime=_xdsoft_datetime.now();currentTime=
_xdsoft_datetime.currentTime}if($this.hasClass("xdsoft_disabled"))return false;currentTime.setDate(1);currentTime.setFullYear($this.data("year"));currentTime.setMonth($this.data("month"));currentTime.setDate($this.data("date"));datetimepicker.trigger("select.xdsoft",[currentTime]);input$$0.val(_xdsoft_datetime.str());if((timerclick>1||options.closeOnDateSelect===true||options.closeOnDateSelect===0&&!options.timepicker)&&!options.inline)datetimepicker.trigger("close.xdsoft");if(options.onSelectDate&&
options.onSelectDate.call)options.onSelectDate.call(datetimepicker,_xdsoft_datetime.currentTime,datetimepicker.data("input"));datetimepicker.data("changed",true);datetimepicker.trigger("xchange.xdsoft");datetimepicker.trigger("changedatetime.xdsoft");setTimeout(function(){timerclick=0},200)});timebox.on("click.xdsoft","div",function(xdevent){xdevent.stopPropagation();var $this=$(this);var currentTime=_xdsoft_datetime.currentTime;if(currentTime===undefined||currentTime===null){_xdsoft_datetime.currentTime=
_xdsoft_datetime.now();currentTime=_xdsoft_datetime.currentTime}if($this.hasClass("xdsoft_disabled"))return false;currentTime.setHours($this.data("hour"));currentTime.setMinutes($this.data("minute"));datetimepicker.trigger("select.xdsoft",[currentTime]);datetimepicker.data("input").val(_xdsoft_datetime.str());!options.inline&&datetimepicker.trigger("close.xdsoft");if(options.onSelectTime&&options.onSelectTime.call)options.onSelectTime.call(datetimepicker,_xdsoft_datetime.currentTime,datetimepicker.data("input"));
datetimepicker.data("changed",true);datetimepicker.trigger("xchange.xdsoft");datetimepicker.trigger("changedatetime.xdsoft")});datetimepicker.mousewheel&&datepicker.mousewheel(function(event,delta,deltaX,deltaY){if(!options.scrollMonth)return true;if(delta<0)_xdsoft_datetime.nextMonth();else _xdsoft_datetime.prevMonth();return false});datetimepicker.mousewheel&&timeboxparent.unmousewheel().mousewheel(function(event,delta,deltaX,deltaY){if(!options.scrollTime)return true;var pheight=timeboxparent[0].clientHeight;
var height=timebox[0].offsetHeight;var top=Math.abs(parseInt(timebox.css("marginTop")));var fl=true;if(delta<0&&height-pheight-options.timeHeightInTimePicker>=top){timebox.css("marginTop","-"+(top+options.timeHeightInTimePicker)+"px");fl=false}else if(delta>0&&top-options.timeHeightInTimePicker>=0){timebox.css("marginTop","-"+(top-options.timeHeightInTimePicker)+"px");fl=false}timeboxparent.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(timebox.css("marginTop"))/(height-pheight))]);event.stopPropagation();
return fl});var triggerAfterOpen=false;datetimepicker.on("changedatetime.xdsoft",function(){if(options.onChangeDateTime&&options.onChangeDateTime.call){var $input=datetimepicker.data("input");options.onChangeDateTime.call(datetimepicker,_xdsoft_datetime.currentTime,$input);delete options.value;$input.trigger("change")}}).on("generate.xdsoft",function(){if(options.onGenerate&&options.onGenerate.call)options.onGenerate.call(datetimepicker,_xdsoft_datetime.currentTime,datetimepicker.data("input"));if(triggerAfterOpen){datetimepicker.trigger("afterOpen.xdsoft");
triggerAfterOpen=false}}).on("click.xdsoft",function(xdevent){xdevent.stopPropagation()});var current_time_index=0;input$$0.mousewheel&&input$$0.mousewheel(function(event,delta,deltaX,deltaY){if(!options.scrollInput)return true;if(!options.datepicker&&options.timepicker){current_time_index=timebox.find(".xdsoft_current").length?timebox.find(".xdsoft_current").eq(0).index():0;if(current_time_index+delta>=0&&current_time_index+delta<timebox.children().length)current_time_index+=delta;timebox.children().eq(current_time_index).length&&
timebox.children().eq(current_time_index).trigger("mousedown");return false}else if(options.datepicker&&!options.timepicker){datepicker.trigger(event,[delta,deltaX,deltaY]);input$$0.val&&input$$0.val(_xdsoft_datetime.str());datetimepicker.trigger("changedatetime.xdsoft");return false}});var setPos=function(){var offset=datetimepicker.data("input").offset();var top=offset.top+datetimepicker.data("input")[0].offsetHeight-1;var left=offset.left;var position="absolute";if(options.fixed){top-=$(window).scrollTop();
left-=$(window).scrollLeft();position="fixed"}else{if(top+datetimepicker[0].offsetHeight>$(window).height()+$(window).scrollTop())top=offset.top-datetimepicker[0].offsetHeight+1;if(top<0)top=0;if(left+datetimepicker[0].offsetWidth>$(window).width())left=offset.left-datetimepicker[0].offsetWidth+datetimepicker.data("input")[0].offsetWidth}datetimepicker.css({left:left,top:top,position:position})};datetimepicker.on("open.xdsoft",function(){var onShow=true;if(options.onShow&&options.onShow.call)onShow=
options.onShow.call(datetimepicker,_xdsoft_datetime.currentTime,datetimepicker.data("input"));if(onShow!==false){datetimepicker.show();setPos();$(window).off("resize.xdsoft",setPos).on("resize.xdsoft",setPos);if(options.closeOnWithoutClick)$([document.body,window]).on("mousedown.xdsoft",function arguments_callee6(){datetimepicker.trigger("close.xdsoft");$([document.body,window]).off("mousedown.xdsoft",arguments_callee6)})}}).on("close.xdsoft",function(event){var onClose=true;if(options.onClose&&options.onClose.call)onClose=
options.onClose.call(datetimepicker,_xdsoft_datetime.currentTime,datetimepicker.data("input"));if(onClose!==false&&!options.opened&&!options.inline)datetimepicker.hide();event.stopPropagation()}).data("input",input$$0);var timer=0;var timer1=0;datetimepicker.data("xdsoft_datetime",_xdsoft_datetime);datetimepicker.setOptions(options);_xdsoft_datetime.setCurrentTime(getCurrentValue());input$$0.data("xdsoft_datetimepicker",datetimepicker).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(event){if(input$$0.is(":disabled")||
input$$0.is(":hidden")||!input$$0.is(":visible")||input$$0.data("xdsoft_datetimepicker").is(":visible")&&options.closeOnInputClick)return;clearTimeout(timer);timer=setTimeout(function(){if(input$$0.is(":disabled")||input$$0.is(":hidden")||!input$$0.is(":visible"))return;triggerAfterOpen=true;_xdsoft_datetime.setCurrentTime(getCurrentValue());datetimepicker.trigger("open.xdsoft")},100)}).on("keydown.xdsoft",function(event){var val=this.value;var key=event.which;switch(true){case !!~[ENTER].indexOf(key):var elementSelector=
$("input:visible,textarea:visible");datetimepicker.trigger("close.xdsoft");elementSelector.eq(elementSelector.index(this)+1).focus();return false;case !!~[TAB].indexOf(key):datetimepicker.trigger("close.xdsoft");return true}})};var destroyDateTimePicker=function(input){var datetimepicker=input.data("xdsoft_datetimepicker");if(datetimepicker){datetimepicker.data("xdsoft_datetime",null);datetimepicker.remove();input.data("xdsoft_datetimepicker",null).off("open.xdsoft focusin.xdsoft focusout.xdsoft mousedown.xdsoft blur.xdsoft keydown.xdsoft");
$(window).off("resize.xdsoft");$([window,document.body]).off("mousedown.xdsoft");input.unmousewheel&&input.unmousewheel()}};$(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(e){if(e.keyCode==CTRLKEY)ctrlDown=true}).on("keyup.xdsoftctrl",function(e){if(e.keyCode==CTRLKEY)ctrlDown=false});return this.each(function(){var datetimepicker;if(datetimepicker=$(this).data("xdsoft_datetimepicker")){if($.type(opt)==="string")switch(opt){case "show":$(this).select().focus();
datetimepicker.trigger("open.xdsoft");break;case "hide":datetimepicker.trigger("close.xdsoft");break;case "destroy":destroyDateTimePicker($(this));break;case "reset":this.value=this.defaultValue;if(!this.value||!datetimepicker.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,options.format)))datetimepicker.data("changed",false);datetimepicker.data("xdsoft_datetime").setCurrentTime(this.value);break}else datetimepicker.setOptions(opt);return 0}else if($.type(opt)!=="string")if(!options.lazyInit||
options.open||options.inline)createDateTimePicker($(this));else lazyInit($(this))})};$.fn.datetimepicker.defaults=default_options})(jQuery);
(function(factory){if(typeof define==="function"&&define.amd)define(["jquery"],factory);else if(typeof exports==="object")module.exports=factory;else factory(jQuery)})(function($){function handler(event){var orgEvent=event||window.event;var args=[].slice.call(arguments,1);var delta=0;var deltaX=0;var deltaY=0;var absDelta=0;var absDeltaXY=0;var fn;event=$.event.fix(orgEvent);event.type="mousewheel";if(orgEvent.wheelDelta)delta=orgEvent.wheelDelta;if(orgEvent.detail)delta=orgEvent.detail*-1;if(orgEvent.deltaY){deltaY=
orgEvent.deltaY*-1;delta=deltaY}if(orgEvent.deltaX){deltaX=orgEvent.deltaX;delta=deltaX*-1}if(orgEvent.wheelDeltaY!==undefined)deltaY=orgEvent.wheelDeltaY;if(orgEvent.wheelDeltaX!==undefined)deltaX=orgEvent.wheelDeltaX*-1;absDelta=Math.abs(delta);if(!lowestDelta||absDelta<lowestDelta)lowestDelta=absDelta;absDeltaXY=Math.max(Math.abs(deltaY),Math.abs(deltaX));if(!lowestDeltaXY||absDeltaXY<lowestDeltaXY)lowestDeltaXY=absDeltaXY;fn=delta>0?"floor":"ceil";delta=Math[fn](delta/lowestDelta);deltaX=Math[fn](deltaX/
lowestDeltaXY);deltaY=Math[fn](deltaY/lowestDeltaXY);args.unshift(event,delta,deltaX,deltaY);return($.event.dispatch||$.event.handle).apply(this,args)}var toFix=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"];var toBind="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];var lowestDelta;var lowestDeltaXY;if($.event.fixHooks)for(var i$$0=toFix.length;i$$0;)$.event.fixHooks[toFix[--i$$0]]=$.event.mouseHooks;$.event.special.mousewheel=
{setup:function(){if(this.addEventListener)for(var i=toBind.length;i;)this.addEventListener(toBind[--i],handler,false);else this.onmousewheel=handler},teardown:function(){if(this.removeEventListener)for(var i=toBind.length;i;)this.removeEventListener(toBind[--i],handler,false);else this.onmousewheel=null}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function(fn){return this.unbind("mousewheel",fn)}})});Date.parseFunctions={count:0};
Date.parseRegexes=[];Date.formatFunctions={count:0};Date.prototype.dateFormat=function(b){if(b=="unixtime")return parseInt(this.getTime()/1E3);if(Date.formatFunctions[b]==null)Date.createNewFormat(b);var a=Date.formatFunctions[b];return this[a]()};
Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;var code="Date.prototype."+funcName+" \x3d function() {return ";var special=false;var ch="";for(var i=0;i<format.length;++i){ch=format.charAt(i);if(!special&&ch=="\\")special=true;else if(special){special=false;code+="'"+String.escape(ch)+"' + "}else code+=Date.getFormatCode(ch)}eval(code.substring(0,code.length-3)+";}")};
Date.getFormatCode=function(a){switch(a){case "d":return"String.leftPad(this.getDate(), 2, '0') + ";case "D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case "j":return"this.getDate() + ";case "l":return"Date.dayNames[this.getDay()] + ";case "S":return"this.getSuffix() + ";case "w":return"this.getDay() + ";case "z":return"this.getDayOfYear() + ";case "W":return"this.getWeekOfYear() + ";case "F":return"Date.monthNames[this.getMonth()] + ";case "m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";
case "M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case "n":return"(this.getMonth() + 1) + ";case "t":return"this.getDaysInMonth() + ";case "L":return"(this.isLeapYear() ? 1 : 0) + ";case "Y":return"this.getFullYear() + ";case "y":return"('' + this.getFullYear()).substring(2, 4) + ";case "a":return"(this.getHours() \x3c 12 ? 'am' : 'pm') + ";case "A":return"(this.getHours() \x3c 12 ? 'AM' : 'PM') + ";case "g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case "G":return"this.getHours() + ";
case "h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case "H":return"String.leftPad(this.getHours(), 2, '0') + ";case "i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case "s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case "O":return"this.getGMTOffset() + ";case "T":return"this.getTimezone() + ";case "Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(a)+"' + "}};
Date.parseDate=function(a,c){if(c=="unixtime")return new Date(!isNaN(parseInt(a))?parseInt(a)*1E3:0);if(Date.parseFunctions[c]==null)Date.createParser(c);var b=Date.parseFunctions[c];return Date[b](a)};
Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++;var regexNum=Date.parseRegexes.length;var currentGroup=1;Date.parseFunctions[format]=funcName;var code="Date."+funcName+" \x3d function(input) {\nvar y \x3d -1, m \x3d -1, d \x3d -1, h \x3d -1, i \x3d -1, s \x3d -1, z \x3d -1;\nvar d \x3d new Date();\ny \x3d d.getFullYear();\nm \x3d d.getMonth();\nd \x3d d.getDate();\nvar results \x3d input.match(Date.parseRegexes["+regexNum+"]);\nif (results \x26\x26 results.length \x3e 0) {";
var regex="";var special=false;var ch="";for(var i=0;i<format.length;++i){ch=format.charAt(i);if(!special&&ch=="\\")special=true;else if(special){special=false;regex+=String.escape(ch)}else{obj=Date.formatCodeToRegex(ch,currentGroup);currentGroup+=obj.g;regex+=obj.s;if(obj.g&&obj.c)code+=obj.c}}code+="if (y \x3e 0 \x26\x26 z \x3e 0){\nvar doyDate \x3d new Date(y,0);\ndoyDate.setDate(z);\nm \x3d doyDate.getMonth();\nd \x3d doyDate.getDate();\n}";code+="if (y \x3e 0 \x26\x26 m \x3e\x3d 0 \x26\x26 d \x3e 0 \x26\x26 h \x3e\x3d 0 \x26\x26 i \x3e\x3d 0 \x26\x26 s \x3e\x3d 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y \x3e 0 \x26\x26 m \x3e\x3d 0 \x26\x26 d \x3e 0 \x26\x26 h \x3e\x3d 0 \x26\x26 i \x3e\x3d 0)\n{return new Date(y, m, d, h, i);}\nelse if (y \x3e 0 \x26\x26 m \x3e\x3d 0 \x26\x26 d \x3e 0 \x26\x26 h \x3e\x3d 0)\n{return new Date(y, m, d, h);}\nelse if (y \x3e 0 \x26\x26 m \x3e\x3d 0 \x26\x26 d \x3e 0)\n{return new Date(y, m, d);}\nelse if (y \x3e 0 \x26\x26 m \x3e\x3d 0)\n{return new Date(y, m);}\nelse if (y \x3e 0)\n{return new Date(y);}\n}return null;}";
Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$");eval(code)};
Date.formatCodeToRegex=function(b,a){switch(b){case "D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case "j":case "d":return{g:1,c:"d \x3d parseInt(results["+a+"], 10);\n",s:"(\\d{1,2})"};case "l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case "S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case "w":return{g:0,c:null,s:"\\d"};case "z":return{g:1,c:"z \x3d parseInt(results["+a+"], 10);\n",s:"(\\d{1,3})"};case "W":return{g:0,c:null,s:"(?:\\d{2})"};case "F":return{g:1,c:"m \x3d parseInt(Date.monthNumbers[results["+
a+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case "M":return{g:1,c:"m \x3d parseInt(Date.monthNumbers[results["+a+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case "n":case "m":return{g:1,c:"m \x3d parseInt(results["+a+"], 10) - 1;\n",s:"(\\d{1,2})"};case "t":return{g:0,c:null,s:"\\d{1,2}"};case "L":return{g:0,c:null,s:"(?:1|0)"};case "Y":return{g:1,c:"y \x3d parseInt(results["+a+"], 10);\n",s:"(\\d{4})"};case "y":return{g:1,c:"var ty \x3d parseInt(results["+
a+"], 10);\ny \x3d ty \x3e Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case "a":return{g:1,c:"if (results["+a+"] \x3d\x3d 'am') {\nif (h \x3d\x3d 12) { h \x3d 0; }\n} else { if (h \x3c 12) { h +\x3d 12; }}",s:"(am|pm)"};case "A":return{g:1,c:"if (results["+a+"] \x3d\x3d 'AM') {\nif (h \x3d\x3d 12) { h \x3d 0; }\n} else { if (h \x3c 12) { h +\x3d 12; }}",s:"(AM|PM)"};case "g":case "G":case "h":case "H":return{g:1,c:"h \x3d parseInt(results["+a+"], 10);\n",s:"(\\d{1,2})"};case "i":return{g:1,
c:"i \x3d parseInt(results["+a+"], 10);\n",s:"(\\d{2})"};case "s":return{g:1,c:"s \x3d parseInt(results["+a+"], 10);\n",s:"(\\d{2})"};case "O":return{g:0,c:null,s:"[+-]\\d{4}"};case "T":return{g:0,c:null,s:"[A-Z]{3}"};case "Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(b)}}};Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")};
Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")};Date.prototype.getDayOfYear=function(){var a=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var b=0;b<this.getMonth();++b)a+=Date.daysInMonth[b];return a+this.getDate()};
Date.prototype.getWeekOfYear=function(){var b=this.getDayOfYear()+(4-this.getDay());var a=new Date(this.getFullYear(),0,1);var c=7-a.getDay()+4;return String.leftPad(Math.ceil((b-c)/7)+1,2,"0")};Date.prototype.isLeapYear=function(){var a=this.getFullYear();return(a&3)==0&&(a%100||a%400==0&&a)};Date.prototype.getFirstDayOfMonth=function(){var a=(this.getDay()-(this.getDate()-1))%7;return a<0?a+7:a};
Date.prototype.getLastDayOfMonth=function(){var a=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return a<0?a+7:a};Date.prototype.getDaysInMonth=function(){Date.daysInMonth[1]=this.isLeapYear()?29:28;return Date.daysInMonth[this.getMonth()]};Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};String.escape=function(a){return a.replace(/('|\\)/g,"\\$1")};
String.leftPad=function(d,b,c){var a=new String(d);if(c==null)c=" ";for(;a.length<b;)a=c+a;return a};Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31];Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Date.y2kYear=50;Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};
Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"};